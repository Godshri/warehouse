<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Умный склад{% endblock %}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#ff4f12">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
    <link rel="stylesheet" id="theme-stylesheet" href="/static/rt-theme.css?v=14">
    <link rel="stylesheet" href="/static/styles.css?v=14">
  </head>
  <body class="rt-body" {% block body_attrs %}{% endblock %}>
    <nav class="navbar navbar-expand-lg rt-navbar w-100" id="main-navbar">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">Умный склад</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarMain"
          aria-controls="navbarMain"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMain">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item" id="nav-home">
              <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-house"></i></span>
                <span class="nav-label">Главная</span>
              </a>
            </li>
            <li class="nav-item" id="nav-profile">
              <a class="nav-link {% if request.path == '/profile/' %}active{% endif %}" href="/profile/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-user"></i></span>
                <span class="nav-label">Профиль</span>
              </a>
            </li>
            <li class="nav-item" id="nav-equipment">
              <a class="nav-link {% if request.path == '/equipment/' %}active{% endif %}" href="/equipment/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-toolbox"></i></span>
                <span class="nav-label">Оборудование</span>
              </a>
            </li>
            <li class="nav-item" id="nav-issue">
              <a class="nav-link {% if request.path == '/issue/' %}active{% endif %}" href="/issue/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-right-from-bracket"></i></span>
                <span class="nav-label">Выдача</span>
              </a>
            </li>
            <li class="nav-item" id="nav-return">
              <a class="nav-link {% if request.path == '/return/' %}active{% endif %}" href="/return/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-right-to-bracket"></i></span>
                <span class="nav-label">Возврат</span>
              </a>
            </li>
            <li class="nav-item" id="nav-inventory">
              <a class="nav-link {% if request.path == '/inventory/' %}active{% endif %}" href="/inventory/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-clipboard-list"></i></span>
                <span class="nav-label">Инвентаризация</span>
              </a>
            </li>
            <li class="nav-item" id="nav-reports">
              <a class="nav-link {% if request.path == '/reports/' %}active{% endif %}" href="/reports/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-chart-column"></i></span>
                <span class="nav-label">Отчеты</span>
              </a>
            </li>
            <li class="nav-item" id="nav-notifications">
              <a class="nav-link {% if request.path == '/notifications/' %}active{% endif %}" href="/notifications/">
                <span class="nav-icon d-lg-none" aria-hidden="true"><i class="fa-solid fa-bell"></i></span>
                <span class="nav-label">Уведомления</span>
              </a>
            </li>
          </ul>
          <div class="d-flex gap-2 align-items-center">
            <button class="btn btn-outline-light btn-sm" id="theme-toggle" type="button" aria-label="Светлая/темная тема">
              <i class="fa-regular fa-moon"></i>
            </button>
            <button class="btn btn-outline-light btn-sm" id="color-toggle" type="button" aria-label="Цветовая тема">
              <i class="fa-solid fa-palette"></i>
            </button>
            <a class="btn btn-outline-light btn-sm" href="/login/" id="login-link">Вход</a>
            <button class="btn btn-outline-light btn-sm d-none" id="logout-button" type="button">Выход</button>
          </div>
        </div>
      </div>
    </nav>

    <main class="container py-4" id="protected-content">
      {% block breadcrumbs %}{% endblock %}
      {% block content %}{% endblock %}
    </main>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Вход</h5>
          </div>
          <div class="modal-body">
            <form id="login-form-modal" data-login-form method="post" action="/login/">
              {% csrf_token %}
              <div class="mb-2">
                <input class="form-control" name="username" placeholder="Логин" required>
              </div>
              <div class="mb-2">
                <div class="input-group">
                  <input class="form-control" type="password" name="password" placeholder="Пароль" required>
                  <button class="btn btn-outline-secondary" type="button" data-toggle="password">
                    <span class="password-icon"><i class="fa-regular fa-eye-slash"></i></span>
                  </button>
                </div>
              </div>
              <button class="btn btn-primary w-100" type="submit">Войти</button>
            </form>
            <div class="text-muted small mt-2" id="login-status">Требуется авторизация</div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8"></script>
    <script src="/static/app.js?v=14"></script>
  </body>
</html>
